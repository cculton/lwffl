<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>League Score Scorigami</title>
    <style>
        :root {
            --primary: #007bff;
            --bg: #f4f4f9;
            --card-bg: #ffffff;
            --text: #333;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
        }

        h1, h2 {
            text-align: center;
            color: #2c3e50;
        }

        /* CARD STYLES */
        .card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        /* SEARCH BAR */
        .search-box {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            margin-top: 10px;
        }

        /* COMMON SCORES GRID */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .stat-item {
            background: #eef2f5;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border-left: 5px solid var(--primary);
        }

        .stat-item .rank {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .stat-item .score {
            font-weight: bold;
            font-size: 1.2rem;
            display: block;
            margin-bottom: 5px;
        }

        .stat-item .count {
            font-size: 0.9rem;
            color: #555;
        }
        
        .stat-item .date {
            font-size: 0.75rem;
            color: #888;
            margin-top: 4px;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>League Scorigami Tracker</h1>

    <div class="card" id="common-scores-container">
        <h2>Most Common Scores</h2>
        <div id="top-scores-list" class="stats-grid"></div>
    </div>

    <div class="card">
        <h2>Search History</h2>
        <input type="text" id="searchInput" class="search-box" placeholder="Search for a score (e.g., 105-98)...">
        <div id="searchResults" style="margin-top: 20px;"></div>
    </div>
</div>

<script>
    // MOCK DATA
    // Note: In the ties below (count: 4), 98-85 should appear BEFORE 100-90
    // because its lastDate (Dec 2024) is more recent than Nov 2024.
    const scoreData = [
        { score: "115-110", count: 6, lastDate: "2024-12-01" },
        { score: "100-90",  count: 4, lastDate: "2024-11-10" }, 
        { score: "98-85",   count: 4, lastDate: "2024-12-14" }, // Tie count, newer date
        { score: "120-100", count: 4, lastDate: "2023-10-05" }, // Tie count, older date
        { score: "88-75",   count: 2, lastDate: "2024-09-15" },
        { score: "130-128", count: 1, lastDate: "2022-11-20" }
    ];

    // --- SORTING LOGIC ---
    function sortScores(data) {
        return data.sort((a, b) => {
            // 1. Primary Sort: Frequency (Highest Count first)
            if (b.count !== a.count) {
                return b.count - a.count;
            }

            // 2. Secondary Sort: Recency (Newest Date first)
            const dateA = new Date(a.lastDate);
            const dateB = new Date(b.lastDate);
            
            // Sort descending (Newest date at the top)
            return dateB - dateA;
        });
    }

    // --- RENDER FUNCTION ---
    function renderTopScores() {
        const list = document.getElementById('top-scores-list');
        list.innerHTML = ''; // Clear current

        // Sort the data
        const sortedData = sortScores([...scoreData]); // Create a copy to sort

        // Display top 5
        sortedData.slice(0, 5).forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'stat-item';
            div.innerHTML = `
                <div class="rank">Rank #${index + 1}</div>
                <span class="score">${item.score}</span>
                <div class="count">${item.count} Occurrences</div>
                <div class="date">Last: ${item.lastDate}</div>
            `;
            list.appendChild(div);
        });
    }

    // --- SEARCH FUNCTION (Basic) ---
    document.getElementById('searchInput').addEventListener('keyup', (e) => {
        const query = e.target.value.trim();
        const resultDiv = document.getElementById('searchResults');
        
        if (!query) {
            resultDiv.innerHTML = '';
            return;
        }

        const found = scoreData.find(s => s.score === query);
        
        if (found) {
            resultDiv.innerHTML = `
                <div class="stat-item" style="border-left-color: #28a745;">
                    <span class="score">${found.score}</span>
                    <div class="count">Occurred ${found.count} times</div>
                    <div class="date">Last seen: ${found.lastDate}</div>
                </div>`;
        } else {
            resultDiv.innerHTML = `<p style="color: #666; text-align: center;">Score not found (Scorigami?).</p>`;
        }
    });

    // Initialize
    renderTopScores();

</script>

</body>
</html>
