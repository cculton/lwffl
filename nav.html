<nav class="league-nav">
  <div class="nav-container">
    <a href="index.html" class="nav-brand">LWFFL<span>RECORDS</span></a>

    <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <ul class="nav-menu" id="navMenu">
      <li class="nav-item dropdown">
        <button class="dropdown-trigger">Administrative ▾</button>
        <ul class="dropdown-menu">
          <li><a href="constitution.html">League Constitution</a></li>
          <li><a href="amendment-history.html">Amendment History</a></li>
        </ul>
      </li>

      <li class="nav-item dropdown">
        <button class="dropdown-trigger">Stats & Records ▾</button>
        <ul class="dropdown-menu">
          <li><a href="record-book.html">Record Book</a></li>
          <li><a href="postseason-accomplishments.html">Postseason Accomplishments</a></li>
          <li><a href="season-stats.html">Season Stats</a></li>
          <li><a href="head-to-head.html">H2H History</a></li>
          <li><a href="weekly-performance.html">Weekly Performance</a></li>
        </ul>
      </li>

      <li class="nav-item dropdown">
        <button class="dropdown-trigger">Amusement ▾</button>
        <ul class="dropdown-menu">
          <li><a href="manager-cards.html">Manager Cards</a></li>
          <li><a href="probability-machine.html">Probability Machine</a></li>
          <li><a href="scorigami.html">Scorigami Search</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<script>
(function() {
  const toggle = document.getElementById('navToggle');
  const menu = document.getElementById('navMenu');
  const dropdowns = document.querySelectorAll('.dropdown-trigger');

  // Toggle Mobile Menu
  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
    toggle.setAttribute('aria-expanded', !isExpanded);
    menu.classList.toggle('is-active');
    toggle.classList.toggle('is-active');
  });

  // Toggle Dropdowns (Click-based for mobile/Safari stability)
  dropdowns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const parent = btn.parentElement;
      const isOpen = parent.classList.contains('is-open');
      
      // Close others
      document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('is-open'));
      
      // Toggle current
      if (!isOpen) parent.classList.add('is-open');
    });
  });

  // Global close
  document.addEventListener('click', () => {
    menu.classList.remove('is-active');
    toggle.classList.remove('is-active');
    toggle.setAttribute('aria-expanded', 'false');
    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('is-open'));
  });
})();
</script>
